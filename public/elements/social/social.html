<link rel="import" href="../../components/polymer/polymer.html">
<link rel="import" href="../../components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="../../components/paper-card/paper-card.html">
<link rel="import" href="../../components/iron-ajax/iron-ajax.html">

<dom-module id="web-social">
    <style>
        :host{
            @apply(--layout-horizontal);
            @apply(--layout-wrap);
            @apply(--flex-auto);
            align-items: center;
            justify-content: center;
            margin-top: 16px;
        }
        #cards {
            @apply(--layout-vertical);
            @apply(--center-justified);
            max-width: 280px;
            margin-left: auto;
            margin-right: auto;
            justify-items: left;
        }
        paper-card {
            width: 350px;
            margin-bottom: 16px;
            margin-left: 16px;
            margin-right: 16px;

        }
        .avatar {
            display: inline-block;
            height: 64px;
            width: 64px;
            border-radius: 50%;
            color: white;
            line-height: 64px;
            font-size: 30px;
            text-align: center;
        }
        .fancy .title {
            position: absolute;
            top: 30px;
            left: 100px;
            color: var(--paper-indigo-500);
        }
        .card-text{
            font-size: medium;
            margin-bottom: 16px;
            margin-left: 16px;
            margin-right: 16px;
        }
        .name{
            font-size: medium;
        }
        .tag{
            font-size: small;
        }
        b{
            color: #0b97c4;
        }
        .grid{
            /*width:160px;*/
            clear:both;
        }
        .block {
            /*margin:10px;*/
            /*float:left;*/
        }
    </style>
    <template>
        <template is="dom-repeat" items="{{twitter}}"  as='twitt' sort="_sort">
            <paper-card class='block fancy'>
                <div class="card-content">
                    <img class="avatar" src="{{twitt.profile_image}}"></img>
                    <div class="title">
                        <div class="name">{{twitt.name}}</div>
                        <div class="tag">@{{twitt.username}}</div>
                    </div>
                </div>
                <div class="card-text">
                    <div>{{twitt.text}}</div>
                </div>
            </paper-card>
        </template>

    </template>

    <script>
        (function () {
            'use strict';

            Polymer({
                is: 'web-social',
                properties: {

                    twitter: {
                        type: Object,
                        notify: true,
                        observer: 'log'
                    }
                },
                _sort: function(a,b){
                    var dateA = new Date(a.date);
                    var dateB = new Date(b.date);
                    return (dateA.getTime() - dateB.getTime())*-1
                },
                log:function(evt){
                    console.log(this.twitter)
                    console.log('observer')

                }
            });


        })();
    </script>

</dom-module>